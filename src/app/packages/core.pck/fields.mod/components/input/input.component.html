<div class="ham-input-field" *ngIf="control">
	<!-- Label -->
	<label *ngIf="showLabel" [htmlFor]="inputId">{{labelName}}</label>

	<!-- Info & Input -->
	<div
		class="ham-input-wrapper"
		[class.ham-invalid]="control.invalid && control.touched"
		[class.ham-focused]="inputFocused"
		[class.ham-layout-flex]="layoutStyleType === 1"
		[class.ham-direction]="layoutStyleData?.changeDirection">
		<!-- Info -->
		<div class="ham-info cd-hide" *ngIf="layoutStyleData">
			<button
				mat-button
				type="submit"
				class="ham-btn-icon"
				[disabled]="!layoutStyleData?.status || !layoutStyleData?.button"
				[class.ham-simple]="!layoutStyleData?.button">
				<ng-container *ngIf="layoutStyleData?.button">
					<fa-icon *ngIf="layoutStyleData?.icon" [icon]="layoutStyleData.icon"></fa-icon>
				</ng-container>
				<ng-container *ngIf="!layoutStyleData?.button">
					<p>{{layoutStyleData.title}}</p>
				</ng-container>
			</button>
		</div>

		<!-- Input -->
		<div class="ham-input" *ngIf="!typeTextArea">
			<input
				matInput
				[formControl]="control"
				[id]="inputId"
				[name]="inputName"
				[type]="hidePassword ? 'password' : inputType"
				[value]="control.value"
				[placeholder]="inputPlaceHolder"
				[autocomplete]="autocomplete"
				[class.ham-space]="control.value"
				[class.ham-time]="inputType === 'time'"
				(focus)="inputFocused=true"
				(focusout)="inputFocused=false">

			<!-- Close Icon -->
			<mat-icon
				*ngIf="control.value && !control.disabled"
				class="ham-icon ham-close"
				(click)="control.setValue('')">
				close
			</mat-icon>

			<!-- Password Icon -->
			<mat-icon
				*ngIf="showHidePassword && control.value"
				class="ham-icon ham-eye"
				matSuffix
				(click)="hidePassword = !hidePassword">
				{{hidePassword ? 'visibility_off' : 'visibility'}}
			</mat-icon>
		</div>

		<!-- Text Area -->
		<div class="ham-textarea" *ngIf="typeTextArea">
			<!-- Simple -->
			<textarea
				matInput
				cdkTextareaAutosize
				*ngIf="!richEditor"
				[formControl]="control"
				[id]="inputId"
				[name]="inputName"
				[type]="hidePassword ? 'password' : inputType"
				[value]="control.value"
				[placeholder]="inputPlaceHolder"
				[cdkAutosizeMinRows]="textareaMinRows"
				[cdkAutosizeMaxRows]="textareaMaxRows"
				[class.ham-space]="control.value"
				(focus)="inputFocused=true"
				(focusout)="inputFocused=false">
			</textarea>

			<!-- Rich -->
			<ckeditor
				*ngIf="richEditor && editor"
				class="ham-editor"
				[formControl]="control"
				[config]="{
					toolbar: [ 'Bold', 'Italic', 'BlockQuote', '|', 'Link', '|', 'Undo', 'Redo' ]
				}"
				[editor]="editor">
			</ckeditor>

			<!-- Close Icon -->
			<mat-icon
				*ngIf="control.value"
				class="ham-icon ham-close"
				[class.ham-textarea]="typeTextArea"
				(click)="control.setValue('')">
				close
			</mat-icon>
		</div>
	</div>

	<!-- Error -->
	<mat-error *ngIf="control.invalid && control.touched">
		<ng-container [ngSwitch]="control.errors | FirstKey">
			<p *ngSwitchCase="'required'" i18n="@@Fields_Input_Error_Required">
				Required field
			</p>
			<p *ngSwitchCase="'minlength'" i18n="@@Fields_Input_Error_MinLength">
				It must have at least {{control.errors.minlength.requiredLength}} characters long
			</p>
			<p *ngSwitchCase="'maxlength'" i18n="@@Fields_Input_Error_MaxLength">
				It must have at most {{control.errors.maxlength.requiredLength}} characters long
			</p>
			<p *ngSwitchCase="'username'" i18n="@@Fields_Input_Error_Username">
				<ng-container *ngIf="control.errors.usernameMinLength">
					It must have at least {{control.errors.usernameRequiredLength}} characters long
				</ng-container>
				<ng-container *ngIf="!control.errors.usernameMinLength">
					It must have at most {{control.errors.usernameRequiredLength}} characters long
				</ng-container>
			</p>
			<p *ngSwitchCase="'text'" i18n="@@Fields_Input_Error_Text">
				Only alphabetic characters are allowed!
			</p>
			<p *ngSwitchCase="'password'" i18n="@@Fields_Input_Error_Password">
				Password min. 8 characters required!
			</p>
			<p *ngSwitchCase="'passwordStrength'" i18n="@@Fields_Input_Error_Password_Strength">
				Password is too weak!
			</p>
			<p *ngSwitchCase="'email'" i18n="@@Fields_Input_Error_Email">
				Please enter a valid email address
			</p>
			<p *ngSwitchCase="'confirmPassword'" i18n="@@Fields_Input_Error_Password_Mismatch">
				The two passwords are not identical.
			</p>
			<p *ngSwitchCase="'invalidUrl'">
				Invalid Link!
			</p>
			<p *ngSwitchCase="'invalidTime'" i18n="@@Fields_Datepicker_Error_Invalid_Time">
				Invalid Time!
			</p>
			<p *ngSwitchCase="'backendError'">
				Invalid Field!
			</p>
			<p i18n="@@Fields_Input_Error_Default" *ngSwitchDefault>
				Unknown error occurred
			</p>
		</ng-container>
	</mat-error>

	<!-- Hint -->
	<mat-hint *ngIf="showHint && hintText">{{hintText}}</mat-hint>
</div>
