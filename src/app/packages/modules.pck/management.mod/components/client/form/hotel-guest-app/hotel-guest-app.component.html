<div class="ham-hotel-guest-app">
	<form [formGroup]="formFields" (ngSubmit)="onSubmitForm()" (keyup.enter)="isFormValid && onSubmitForm()">
		<!-- Columns -->
		<div class="ham-row ham-border" [class.ham-no-license]="!licenseActive">
			<h6 *ngIf="licenseActive">License</h6>
			<h6>Active</h6>
			<h6>Module</h6>
			<h6>Description</h6>
			<h6></h6>
			<h6>Preferred</h6>
		</div>

		<!-- Details -->
		<div class="ham-details">
			<ng-container *ngFor="let block of modulesList; let mIndex=index;">
				<div class="ham-blocks ham-hotel-room">
					<h6 *ngIf="block.modules.length > 0">{{ block.name }}</h6>
					<div class="ham-row" [class.ham-no-license]="!licenseActive" *ngFor="let module of block.modules; let iIndex=index;">
						<div *ngIf="licenseActive">
							<mat-slide-toggle
								class="mat-slide-toggle-1"
								[formControl]="formFieldsModules.controls[getModuleIndex(mIndex, iIndex)].get('License')"
								[checked]="module.data['Licensed']">
							</mat-slide-toggle>
						</div>
						<div>
							<mat-slide-toggle
								class="mat-slide-toggle-1"
								[formControl]="formFieldsModules.controls[getModuleIndex(mIndex, iIndex)].get('Active')"
								[checked]="module.data['Active']">
							</mat-slide-toggle>
						</div>
						<div>
							<p>{{ module.details.title }}</p>
						</div>
						<div>
							<p>{{ module.details.description }}</p>
						</div>
						<div class="ham-params">
							<p>Params</p>
						</div>
						<div>
							<mat-checkbox
								class="ham-checkbox-2"
								[formControl]="formFieldsModules.controls[getModuleIndex(mIndex, iIndex)].get('Preferred')"
								[checked]="module.data['Preferred']">
							</mat-checkbox>
						</div>
					</div>
				</div>
			</ng-container>
		</div>

		<app-divider></app-divider>

		<!-- Button -->
		<div class="cd-row ham-padding-1 ham-buttons cd-right-align">
			<div class="cd-col">
				<button
					mat-button
					type="button"
					class="ham-button ham-button-1"
					(click)="onClickCloseClientForm()"
					i18n="@@Management_Client_HGA_Form_Cancel_Button">Cancel
				</button>
				<button
					mat-button
					type="submit"
					class="ham-button ham-button-1"
					[disabled]="!isFormValid"
					i18n="@@Management_Client_HGA_Form_Save_Button">Save
				</button>
			</div>
		</div>
	</form>
</div>
