<section class="ham-upload-image">
	<!-- Header -->
	<header class="ham-head">
		<!-- Top -->
		<div class="ham-top">
			<h3>Upload Image</h3>
			<a (click)="onClickCloseModal()">
				<mat-icon class="ham-icon">cancel</mat-icon>
			</a>
		</div>

		<!-- Divider -->
		<app-widget-divider></app-widget-divider>

		<!-- Bottom -->
		<div class="ham-bottom">
			<p><span>Max FileSize:</span> 1MB</p>
			<p><span>Formats:</span> JPG, PNG</p>
		</div>
	</header>

	<!-- Content -->
	<div class="ham-content">
		<div class="ham-area" (drop)="onDrop($event)" (dragover)="onDragOver($event)">
			<!-- Dummy Area -->
			<div class="ham-dummy" *ngIf="!previewSrc">
				<p>Drag Image Here</p>
			</div>

			<!-- Preview -->
			<img class="ham-preview" *ngIf="previewSrc" [src]="previewSrc" alt="preview-image"/>
		</div>

		<!-- Select Option -->
		<p class="ham-select-image">
			<label [htmlFor]="'fileUpload'">
				[Select Image]
				<input
					class="cd-hide"
					#file
					[id]="'fileUpload'"
					[type]="'file'"
					[accept]="'image/*'"
					(change)="setFilePreview(file.files[0])"/>
			</label>
		</p>

		<!-- Errors -->
		<div class="ham-error" *ngIf="errorMessage">
			<p>{{errorMessage}}</p>
		</div>
	</div>

	<!-- Footer -->
	<footer class="ham-foot">
		<button mat-button type="button" class="ham-button-1" (click)="onClickCloseModal()">Cancel</button>
		<button mat-button type="button" class="ham-button-1" (click)="onClickSaveImage()" [disabled]="!previewSrc || (previewSrc && loading)">
			<fa-icon [icon]="faIcons[0]" [spin]="true" *ngIf="loading"></fa-icon>
			<span *ngIf="!loading">Save</span>
		</button>
	</footer>
</section>
